{"version":3,"sources":["../src/labelchange.js"],"names":["define","PHP","parse","str","offset","values","kick","msg","i","Error","repeat","read","expected","ret","slice","length","readMatch","regex","terminator","match","exec","readUtf8chars","numUtf8Bytes","code","charCodeAt","readUInt","readString","readKey","typ","readObject","obj","readValue","readArray","Object","keys","some","key","toString","toLowerCase","ref","push","val","params","groups","fileTypesMatches","fileTypeDefaults","responseFormat","fileTypeInput","labels","process","data","document","getElementById","setAttribute","temp","serializedData","getAttribute","remove","console","log","labelContainer","parentElement","textWrapper","element","help","children","item","id","hint","addEventListener","changeLabels","spanChecker","name","normalize","text","textNode","Array","from","childNodes","find","node","nodeType","Node","TEXT_NODE","textContent","innerText","trim","spanNode","createElement","appendChild","createTextNode","replaceChild","load","label","format","options","selectedIndex","value","param","hideOrUnhideAndRename","dispatchEvent","CustomEvent","group","newText","title","coef","filetypesDescription","container","hidden","style","display","firstChild","description","querySelector","innerHTML","descriptionSample","lastChild","bodyChecker","body","hasAttribute","setTimeout","child","option","browserkeys","querySelectorAll","count","replace","split","checked","last","disableLastKey","j","browserkey","el","disabled","span","childElementCount"],"mappings":"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","sourcesContent":["\ndefine(function() {\n    // Source https://stackoverflow.com/questions/14227388/unserialize-php-array-in-javascript\n    var PHP = {\n        parse: function parse(str) {\n            var offset = 0,\n                values = [null];\n\n            var kick = function kick(msg, i) {\n                i = i || offset;\n                throw new Error(\"Error at \" + i + \": \" + msg + \"\\n\" + str + \"\\n\" + \" \".repeat(i) + \"^\");\n            };\n            var read = function(expected, ret) {\n                // eslint-disable-next-line no-return-assign\n                return expected === str.slice(offset, offset += expected.length) ? ret :\n                    kick(\"Expected '\" + expected + \"'\", offset - expected.length);\n            };\n\n            function readMatch(regex, msg, terminator) {\n                terminator = terminator || \";\";\n                read(\":\");\n                var match = regex.exec(str.slice(offset));\n                if (!match) {\n                    kick(\"Expected \" + msg + \", but got '\" + str.slice(offset).match(/^[:;{}]|[^:;{}]*/)[0] + \"'\");\n                }\n                offset += match[0].length;\n                return read(terminator, match[0]);\n            }\n\n            function readUtf8chars(numUtf8Bytes, terminator) {\n                terminator = terminator || \"\";\n                var i = offset;\n                while (numUtf8Bytes > 0) {\n                    var code = str.charCodeAt(offset++);\n                    // eslint-disable-next-line no-bitwise,no-nested-ternary\n                    numUtf8Bytes -= code < 0x80 ? 1 : code < 0x800 || code >> 11 === 0x1B ? 2 : 3;\n                }\n                return numUtf8Bytes ? kick(\"Invalid string length\", i - 2) : read(terminator, str.slice(i, offset));\n            }\n\n            var readUInt = function readUInt(terminator) {\n                return +readMatch(/^\\d+/, \"an unsigned integer\", terminator);\n            };\n            var readString = function readString(terminator) {\n                terminator = terminator || \"\";\n                return readUtf8chars(readUInt(':\"'), '\"' + terminator);\n            };\n\n            function readKey() {\n                var typ = str[offset++];\n                // eslint-disable-next-line no-nested-ternary\n                return typ === \"s\" ? readString(\";\")\n                    : typ === \"i\" ? readUInt(\";\")\n                        : kick(\"Expected 's' or 'i' as type for a key, but got ${str[offset-1]}\", offset - 1);\n            }\n\n            function readObject(obj) {\n                for (var i = 0, length = readUInt(\":{\"); i < length; i++) {\n                    obj[readKey()] = readValue();\n                }\n                return read(\"}\", obj);\n            }\n\n            function readArray() {\n                var obj = readObject({});\n                return Object.keys(obj).some(function(key, i) {\n                    return key !== i.toString();\n                }) ? obj : Object.values(obj);\n            }\n\n            function readValue() {\n                var typ = str[offset++].toLowerCase();\n                var ref = values.push(null) - 1;\n                // eslint-disable-next-line no-nested-ternary\n                var val = typ === \"s\" ? readString(\";\")\n                        : typ === \"a\" ? readArray() // Associative array\n                            : kick(\"Unexpected type \" + typ, offset - 1);\n                if (typ !== \"r\") {\n                    values[ref] = val;\n                }\n                return val;\n            }\n\n            var val = readValue();\n            if (offset !== str.length) {\n                kick(\"Unexpected trailing character\");\n            }\n            return val;\n        }\n    };\n\n    var params = [],\n        groups = [],\n        fileTypesMatches = {},\n        fileTypeDefaults = {},\n        responseFormat = null,\n        fileTypeInput = null,\n        labels = {};\n\n    function process(data) {\n        // quit if the form wasn't created (an exception was thrown)\n        if (!document.getElementById('id_responseformat')) {\n            return;\n        }\n\n        params = data['params'];\n        groups = data['groups'];\n        fileTypesMatches = data['types']['matches'];\n        fileTypeDefaults = data['types']['defaults'];\n        responseFormat = document.getElementById('id_responseformat');\n        fileTypeInput = document.getElementById('id_filetypeslist');\n        fileTypeInput.setAttribute('readonly', 'true');\n\n        // Parsing (and after removing) our container\n        var temp = document.getElementById('id_labels_container');\n        var serializedData = temp.getAttribute('data-serialized');\n        labels = PHP.parse(serializedData);\n        temp.remove();\n        // eslint-disable-next-line no-console\n        console.log(Object.keys(labels).length + ' labels were successfully parsed, container was removed');\n\n        var i,\n            key,\n            labelContainer;\n        for (i = 0; i < params.length; i++) { // Setting unique keys for params labels\n            key = 'id_' + params[i];\n            labelContainer = document.getElementById(key).parentElement;\n            textWrapper(labelContainer, key + '_label_span', 'id');\n        }\n\n        for (i = 0; i < groups.length; i++) { // Setting unique keys for groups labels\n            key = 'fgroup_id_' + groups[i];\n            labelContainer = document.getElementById(key + '_label');\n            textWrapper(labelContainer, key + '_label_span', 'id');\n\n            // Setting unique keys for groups help buttons\n            var element = document.getElementById(key);\n            var help = element.children.item(0).children.item(0).children.item(0);\n            help.id = key + '_help_text';\n\n            var hint = help.children.item(0);\n            hint.id = key + '_help_title';\n        }\n\n        responseFormat.addEventListener('change', function() {\n            changeLabels(false);\n        });\n        changeLabels(true);\n        spanChecker();\n    }\n\n    // Put (wrap) text nodes from the parent element (labelContainer) into a span.\n    // Concatenates data from all the text node into the first one!\n    function textWrapper(labelContainer, name, key) {\n        labelContainer.normalize();\n        var text = \"\";\n        var textNode = Array.from(labelContainer.childNodes).find(function(node) {\n            if (node.nodeType === Node.TEXT_NODE) {\n                text = typeof node.textContent == 'string' ? node.textContent : node.innerText;\n                return text.trim() !== \"\";\n            }\n            return false;\n        });\n        if (!textNode) {\n            // eslint-disable-next-line no-console\n            console.log('TextNode not found, label id ' + labelContainer.id);\n            return;\n        }\n        var spanNode = document.createElement('span');\n        spanNode.appendChild(document.createTextNode(text));\n        spanNode[key] = name;\n        labelContainer.replaceChild(spanNode, textNode);\n    }\n\n    // Set new labels (depending on responseformat value)\n    function changeLabels(load) {\n        var i,\n            label,\n            element,\n            format = responseFormat.options[responseFormat.selectedIndex].value;\n        for (i = 0; i < params.length; i++) {\n            var param = params[i];\n            label = document.getElementById('id_' + param + '_label_span');\n            element = document.getElementById('id_' + param);\n            hideOrUnhideAndRename(label, element, element.parentElement, labels[param + '_' + format]);\n            element.dispatchEvent(new CustomEvent('change'));\n        }\n        for (i = 0; i < groups.length; i++) {\n            var group = groups[i];\n            label = document.getElementById('fgroup_id_' + group + '_label_span');\n            element = document.getElementById('fgroup_id_' + group);\n            var newText = labels[group + '_' + format];\n            if (!hideOrUnhideAndRename(label, element, element, newText)) {\n                var title = document.getElementById('fgroup_id_' + group + '_help_title');\n                title.setAttribute('title', labels[group + '_help_title_' + format]);\n                title.setAttribute('aria-label', labels[group + '_help_title_' + format]);\n\n                var text = document.getElementById('fgroup_id_' + group + '_help_text');\n                text.setAttribute('data-content', labels[group + '_help_text_' + format]);\n            }\n            var coef = document.getElementById('id_' + group + 'coef');\n            if (hideOrUnhideAndRename(null, coef, coef.parentElement.parentElement, newText)) {\n                coef.value = 0;\n            }\n            coef.dispatchEvent(new CustomEvent('update'));\n        }\n        filetypesDescription(format, load);\n    }\n\n    function hideOrUnhideAndRename(label, element, container, newText) {\n        if (newText === undefined) {\n            element.hidden = true; // Flag (needed in other js scripts)\n            container.style.display = 'none';\n        } else {\n            element.hidden = false;\n            container.style.display = '';\n            if (label) {\n                label.replaceChild(document.createTextNode(newText), label.firstChild);\n            }\n        }\n        return element.hidden;\n    }\n\n    // Changing filetypelist labels\n    function filetypesDescription(format, load) {\n        if (!load) {\n            fileTypeInput.value = fileTypeDefaults[format].value;\n            var description = document.querySelector('[data-filetypesdescriptions=\"id_filetypeslist\"]');\n            description.firstChild.innerHTML = labels['filetype_description'];\n            var descriptionSample = description.firstChild.firstChild.firstChild;\n            descriptionSample.firstChild.replaceChild(document.createTextNode(\n                fileTypeDefaults[format].description + ' '), descriptionSample.firstChild.firstChild);\n            descriptionSample.lastChild.replaceChild(document.createTextNode(fileTypeInput.value),\n                descriptionSample.lastChild.firstChild);\n        }\n    }\n\n    function bodyChecker() {\n        var body = document.querySelector('[data-filetypesbrowserbody=\"id_filetypeslist\"]');\n        if (body === null || body.hasAttribute('data-used')) {\n            setTimeout(bodyChecker, 100); // File type browser body (Modal) is firstly\n            // loaded when user click 'Choose' for the first time.\n            // Here I wait for that moment\n        } else {\n            // Body is always rerendered, that's why I use attribute to deteriorate the old from the new one\n            body.setAttribute('data-used', 'true');\n            var format = responseFormat.options[responseFormat.selectedIndex].value;\n            for (var i = 0; i < body.children.length; i++) { // Leaving only type, which are acceptable now\n                // eslint-disable-next-line no-loop-func\n                (function() {\n                    var child = body.children[i];\n                    var option = '';\n                    if (child.getAttribute('data-filetypesbrowserkey') !== fileTypesMatches[format]) {\n                        option = 'none';\n                    } else {\n                        var browserkeys = child.querySelectorAll('input[data-filetypesbrowserkey]' +\n                            '[type=\"checkbox\"]');\n                        var count = fileTypeInput.value.toString();\n                        count = count === \"\" ? 0 : count.replace(',',\n                            ' ').split(' ').length;\n                        var checked = {count: count, last: null};\n                        disableLastKey(browserkeys, checked);\n                        for (var j = 0; j < browserkeys.length; j++) {\n                            // eslint-disable-next-line no-loop-func\n                            (function() {\n                                var browserkey = browserkeys[j];\n                                browserkey.addEventListener('change', function() {\n                                    checked.count += browserkey.checked ? 1 : -1;\n                                    disableLastKey(browserkeys, checked);\n                                });\n                            }());\n                        }\n                    }\n                    child.style.display = option;\n                }());\n            }\n        }\n    }\n\n    function disableLastKey(browserkeys, checked) {\n        if (checked.count === 1) {\n            checked.last = Array.from(browserkeys).find(function(el) {\n                return el.checked;\n            });\n        }\n        if (checked.last) {\n            checked.last.disabled = checked.count === 1;\n        }\n    }\n\n    function spanChecker() {\n        var span = document.querySelector('[data-filetypesbrowser=\"id_filetypeslist\"]');\n        if (span.childElementCount > 0) {\n            span.firstChild.addEventListener('click', function() {\n                bodyChecker();\n            });\n        } else { // Button is loaded by yui [not instantly], so we wait\n            setTimeout(spanChecker, 100);\n        }\n    }\n    return {process: process};\n});"],"file":"labelchange.min.js"}