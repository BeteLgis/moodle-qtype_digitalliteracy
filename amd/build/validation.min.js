define(function(){var r,a={},c={},d={},f={};function i(e,n,t){e=function(e){e=e.replace(/[^0-9]/g,"");if(0===e.length)return-1;e=parseInt(e,10);return 0<=e&&e<=100?e:-1}(e);d[n]=e,f[n].coef=e<0?"validatecoef":"";var r,e=Object.values(d),i=!e.includes(-1)&&100!==e.reduce(function(e,n){return e+n},0);for(r in d)0<=d[r]&&(f[r].coef=i?"notahundred":""),t||u(r)}function u(e){var n,t=[],r=f[e];for(n in r)"param"===n&&0===d[e]||0!==r[n].toString().length&&t.push(a[r[n]]);var i=document.getElementById("id_error_"+e),o=t.join(" | ");0===o.length?(i.innerText="",i.style.display=""):(i.innerText=o,i.style.display="block")}function o(e,n){for(var t=!1,r=c[e],i=0,o=0;o<r.length;o++){var a=r[o],a=document.getElementById("id_"+a);if(a.hidden)i++;else if(a.checked){t=!0;break}}f[e].param=t||i===r.length?"":"tickacheckbox",n||u(e)}return{process:function(e){if(document.getElementById("id_responseformat")){var t,n;for(t in a=e.errors,r=e.coefs_map,c=e.params_map,r)n=r[t],d[n]=0,f[n]={coef:"",param:""};for(t in r)!function(){var e=r[t],n=document.getElementById("id_"+t);n.addEventListener("update",function(){i(n.value.toString(),e,!1)}),i(n.value.toString(),e,!0)}();for(n in c)!function(n){c[n].forEach(function(e){document.getElementById("id_"+e).addEventListener("change",function(){o(n,!1)})}),o(n,!0)}(n)}}}});