define(function(){function a(a){if(document.getElementById("id_responseformat")){if(document.getElementById("id_error_group1"))n="id_error_";else{if(!document.getElementById("fgroup_id_error_group1"))return;n="fgroup_id_error_"}var c,d;h=a.errors,k=a.coefs_map,i=a.params_map,o=document.getElementById("fitem_id_fontparams");for(c in k)d=k[c],l[d]=0,m[d]={coef:"",params:""};for(d in i)j[d]=[],i[d].forEach(function(a,b){j[d][b]={hidden:!1,checked:!1}});for(c in k)!function(){var a=k[c],d=document.getElementById("id_"+c);d.addEventListener("update",function(){b(d.value.toString(),a,!1)}),b(d.value.toString(),a,!0)}();for(d in i)!function(a){i[a].forEach(function(b,c){var d=document.getElementById("id_"+b);d.addEventListener("change",function(){e(d.hidden,d.checked,c,a,!1)}),e(d.hidden,d.checked,c,a,!0)})}(d)}}function b(a,b,e){var g=d(a);l[b]=g,f(b),m[b].coef=g<0?"validatecoef":"";var h=Object.values(l),i=h.includes(-1),j=!i&&100!==h.reduce(function(a,b){return a+b},0);for(var k in l)l[k]>=0&&(m[k].coef=j?"notahundred":""),e||c(k)}function c(a){var b=[],c=m[a];for(var d in c)"params"===d&&0===l[a]||0!==c[d].toString().length&&b.push(h[c[d]]);var e=document.getElementById(n+a),f=b.join(" | ");0===f.length?(e.innerText="",e.style.display=""):(e.innerText=f,e.style.display="block")}function d(a){var b=a.replace(/[^0-9]/g,"");if(0!==b.length){var c=parseInt(b,10);return c>=0&&c<=100?c:-1}return-1}function e(a,b,d,e,g){j[e][d].hidden=a,j[e][d].checked=b;var h=!a&&b;if(!h){for(var i=a?1:0,k=j[e],l=0;!h&&l<k.length;l++)if(l!==d){var n=k[l];h=!n.hidden&&n.checked,n.hidden&&i++}h||(h=i===k.length)}m[e].params=h?"":"tickacheckbox",f(e),g||c(e)}function f(a){var b=l[a]>0&&0===m[a].params.length;switch(a){case"group2":g(o,b)}}function g(a,b){b?(a.hidden=!1,a.style.display=""):(a.hidden=!0,a.style.display="none")}var h={},i={},j={},k={},l={},m={},n="",o=null;return{process:a}});